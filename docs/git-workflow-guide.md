# Руководство по работе над задачами с Git и GitHub

[Назад к содержанию](./index.md)

## Работа с локальными репозиториями

Команды:
- `git checkout <branch-name>` - переключиться на ветку `<branch-name>`
- `git checkout -b <new-branch-name>` - создать новую ветку 
  с именем `<new-branch-name>` из текущей
- `git status` - просмотреть список измененных файлов с момента последнего
  коммита
- `git diff` - просмотреть изменения содержимого файлов с момента последнего 
  коммита
- `git add <filename>` - добавить файл или его изменения к следующему 
  коммиту
- `git commit` - сохранить подготовленные изменения
- `git log` - просмотреть историю изменений

Подробнее о работе с локальным репозиторием - [Git: Recording Changes][1]

## Работа с удалёнными репозиториями

Скопировать удалённый репозиторий в локальный - `git clone`
Отправить локальные изменения в удалённый репозиторий - `git push`
Получить обновления удалённого репозитория - `git fetch`
Скопировать обновления удалённого репозитория - `git pull`

Подробнее о работе с удалёнными репозиториями - [Git: Working with Remotes][2]

## Модели ветвления

[Git Flow][3]
[GitHub Flow](4)

В обеих моделях есть главная ветка, в которую попадают готовые работающие 
решения, и feature-ветки, в которых ведётся вся работа над задачами. 

> Замечание
>
> В нашем репозитории у каждого из вас есть своя главная ветка, и процесс 
> работы над ними будет похож на модель GitHub Flow.

Получая новую задачу, разработчик начинает feature-ветку от главной. В этой 
ветке он ведёт работу над задачей - пишет код, тесты, добавляет новые файлы 
или изменяет уже существующие. 

В процессе работы разработчик периодически сохраняет внесённые изменения в 
коммиты. Хорошей практикой считаются небольшие коммиты с законченными кусками 
функциональности (например, реализован основной алгоритм - коммит, добавлена 
обработка некорректного ввода - коммит, добавлена возможность вывода справки - 
коммит) - такие изменения легко читать, воспринимать и проверять другим членам 
команды. Коммиты периодически отправляются в удалённый репозиторий.

Когда работа над задачей завершена и все коммиты отправлены в удалённый 
репозиторий, разработчик создаёт pull request - запрос на внесение изменений - 
в главную ветку (*у нас - в вашу личную главную ветку*). Pull request проходит 
процесс code review - проверки кода другими участниками команды (*у нас -* 
*преподавателем*),- в ходе которого обсуждаются все спорные моменты и 
замечания к предложенной реализации, после чего при необходимости в реализацию 
вносятся те или иные правки, pull request утверждается, и изменения попадают в 
главную ветку.


## Процесс

У каждого из вас есть ветка `your-name/main`, где `your-name` - ваше имя.
Эта ветка будет вашей основной - все готовые решения в конечном итоге будут 
оказываться в ней.

Перед началом работы вам нужно скопировать репозиторий. Для этого в каталоге 
для ваших исходников (например, `C:\src\`) выполните команду 
`git clone https://github.com/vadimrodionov/itstep-practice`.
После клонирования репозитория будет доступна default-ветка `main` - вам нужно 
будет забрать свою главную ветку. Для этого выполните команду 
`git checkout vasily-pupkin/main`, заменив `vasily-pupkin` на ваше имя - если 
такая ветка есть в удалённом репозитории, её последнее состояние появится и в 
вашем локальном.

Для каждого нового домашнего задания вам нужно будет создать feature-ветку 
(например, `vasily-pupkin/lesson-1`) от вашей главной (`vasily-pupkin/main`).
Для этого используется команда `git checkout -b <new-branch-name>`.
В этой ветке вы выполняете задания, периодически сохраняя изменения с помощью 
`git commit` и отправляя их в удалённый репозиторий с помощью `git push`.

По завершении работы вы создаёте pull-request в вашу главную ветку. Сделать 
это можно через интерфейс GitHub: вкладка `Pull requests` -> кнопка 
`New pull request` -> установить base-веткой вашу главную `vasily-pupkin/main`,
а compare-веткой - вашу feature-ветку `vasily-pupkin/lesson-1` -> кнопка 
`Create pull request`.

Созданный pull request пройдёт code review, в результате которого в нём 
появятся замечания к коду. После обсуждения и внесения правок pull request 
будет утверждён, и вам станет доступна возможность включить изменения в вашу 
главную ветку.

После принятия ваших изменений не забудьте обновить главную ветку в вашем 
локальном репозитории (`git checkout vasily-pupkin/main; git pull`).


[1]:https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository
[2]:https://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes
[3]:https://www.atlassian.com/ru/git/tutorials/comparing-workflows/gitflow-workflow
[4]:https://guides.github.com/introduction/flow/