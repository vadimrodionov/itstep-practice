Step Computer Academy
Microsoft .NET Platform and C# Programming Language
Lesson 6 - Delegates. Events. Extensions. LINQ
Hometasks: Task 1
------------------------------------------------------------------------------

Разработать модель центра выдачи заказов. 

Продемонсрировать работу модели.

Действующие лица:
- заказчик
- сотрудник центра
- грузовик службы доставки

Локации:
- точка выдачи
- склад
- место приёма товара

Основная история:
1. Сотрудник центра приходит в центр в назначенное время.
2. Перед открытием центра происходит доставка товара.
3. Сотрудник центра открывает центр.
4. Сотрудник проходит на точку выдачи и начинает приём заказчиков.
5. Сотрудник завершает приём заказчиков.
6. Сотрудник закрывает центр.
7. Сотрудник уходит из центра.

Доставка товара:
1. Грузовик службы доставки прибывает в место приёма товара. 
2. Сотрудник центра переносит товары из грузовика на склад.
3. Грузовик отбывает из места приёма, когда весь товар выгружен.

Обслуживание заказчиков:
1. Заказчики приходит в магазин и попадают в очередь.
2. Сотрудник начинает обслуживание первого заказчика в очереди.
3. Заказчик сообщает номер заказа.
4. Сотрудник идёт на склад и забирает товары, относящиеся к заказу.
5. Сотрудник возвращается на точку выдачи.
6. Сотрудник выдаёт товар заказчику.
7. Сотрудник заносит заказ в список выполненных.
8. Заказчик уходит из магазина.

Состояния:
- центр выдачи:
  - закрыт
  - открыт
- заказчик:
  - заходит в центра выдачи
  - ожидает обслуживания в очереди
  - запрашивает заказ
  - ожидает выдачи заказа
  - принимает товары
  - выходит из центра выдачи
- сотрудник:
  - в центре выдачи
  - в месте приёма товара принимает товар
  - на складе разгружает товар
  - в точке выдачи ожидает заказчика
  - в точке выдачи принимает заказ для выдачи
  - на складе забирает товары для выдачи
  - в точке выдачи выдаёт товары
  - в точке выдачи заносит заказ в список выполненных

Переходы между состояниями:
- центр выдачи:
  - начальное: "закрыт"
  - из "закрыт" в "открыт" по событию "открытие центра"
  - из "открыт" в "закрыт" по событию "закрытие центра"
- заказчик:
  - начальное: "заходит в центр выдачи"
  - из "заходит в центр выдачи" в "ожидает обслуживания в очереди" по событию
    "зашёл в центр выдачи"
  - из "ожидает обслуживания в очереди" в "запрашивает заказ" по событию 
    "начато обслуживание"
  - из "запрашивает заказ" в "ожидает выдачи заказа" по событию 
    "сообщил номер заказа"
  - из "ожидает выдачи заказа" в "принимает товары" по событию 
    "получил товары"
  - из "принимает товары" в "выходит из центра выдачи" по событию 
    "принял товары"
- сотрудник:
  - начальное: "в центре выдачи"
  - из "в центре выдачи" в "в месте приёма товара принимает товар" по событию
    места приёма товара "грузовик прибыл в место приёма"
  - из "в месте приёма товара принимает товар" в "на складе разгружает товар" 
    по событию "принял товар"
  - из "на складе разгружает товар" в "в месте приёма товара принимает товар" 
    по событию "разгрузил товар"
  - из "в месте приёма товара принимает товар" в "в центре выдачи" по событию 
    места приёма товара "грузовик покинул место приёма"
  - из "в центре выдачи" в "в точке выдачи ожидает заказчика" по событию 
    центра "время открытия центра" 
  - из "в точке выдачи ожидает заказчика" в "в точке выдачи принимает заказ 
    для выдачи" по событию "начал обслуживание заказчика"
  - из "в точке выдачи принимает заказ для выдачи" в "на складе забирает 
    товары для выдачи" по событию "принял номер заказа для выдачи"
  - из "на складе забирает товары для выдачи" в "в точке выдачи выдаёт товары"
    по событиям "забрал часть товаров для выдачи" или "забрал все товары для 
    выдачи"
  - из "в точке выдачи выдаёт товары" в "на складе забирает товары для выдачи"
    по событию "выдал часть товаров"
  - из "в точке выдачи выдаёт товары" в "в точке выдачи заносит заказ в список
    выполненных" по событию "выдал весь товар"
  - из "в точке выдачи заносит заказ в список выполненных" в "в точке выдачи 
    ожидает заказчика" по событию "закрыл заказ"
  - из "в точке выдачи ожидает заказчика" в "в центре выдачи" по событию 
    центра "время закрытия центра"

Ограничения:
- сотрудник может нести не больше трёх товаров одновременно,
- получив событие "время закрытия центра", сотрудник запоминает его и 
  закрывает магазин после перехода в состояние "в точке выдачи ожидает 
  заказчика",
- получив событие "время открытие центра", сотрудник запоминает его и 
  открывает магазин после перехода в состояние "в центре выдачи",
- при закрытии магазина очередь заказчиков очищается.

------------------------------------------------------------------------------